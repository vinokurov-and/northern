{"version":3,"sources":["webpack:///./src/templates/game.js","webpack:///./src/templates/work.js"],"names":["settings","infinite","speed","slidesToShow","slidesToScroll","data","React","Layout","className","HelmetDatoCms","seo","datoCmsGame","seoMetaTags","Game","isPreview","point","pointHome","pointGuest","label","teamHome","guestTeam","winner","stadium","Date","date","toLocaleString","gallery","Slider","map","fluid","alt","title","key","src","dangerouslySetInnerHTML","__html","descriptionNode","childMarkdownRemark","html","image","Img","console","log","datoCmsWork","excerpt","previewGame","Link","to","slug","arrows","game","coverImage"],"mappings":"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","file":"component---src-templates-work-js-bb1c2c54e36d1212dcf8.js","sourcesContent":["import React from \"react\";\nimport Slider from \"react-slick\";\nimport { HelmetDatoCms } from \"gatsby-source-datocms\";\nimport Img from \"gatsby-image\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/layout\";\n\nconst settings = {\n  infinite: true,\n  speed: 500,\n  slidesToShow: 2,\n  slidesToScroll: 2,\n};\n\nexport default ({ data }) => (\n  <Layout>\n    <article className=\"sheet\">\n      <HelmetDatoCms seo={data.datoCmsGame.seoMetaTags} />\n      <Game datoCmsGame={data.datoCmsGame} />\n    </article>\n  </Layout>\n);\n\nexport const Game = ({ datoCmsGame, isPreview }) => {\n  const point = `${datoCmsGame.pointHome}:${datoCmsGame.pointGuest}`;\n\n  let label = `${datoCmsGame.teamHome} ${datoCmsGame.pointHome ||\n    \"-\"}:${datoCmsGame.pointGuest || \"-\"}${\" \"}\n  ${datoCmsGame.guestTeam}`;\n\n  if (datoCmsGame.pointHome && datoCmsGame.pointGuest) {\n    let winner =\n      datoCmsGame.pointHome > datoCmsGame.pointGuest\n        ? datoCmsGame.teamHome\n        : datoCmsGame.guestTeam;\n\n    if (isPreview) {\n      if (datoCmsGame.pointHome === datoCmsGame.pointGuest)\n        label = `Игра закончилась со счётом ${point}`;\n      else label = `Результат встречи ${point} в пользу команды ${winner}`;\n    }\n  }\n\n  return (\n    <>\n      <h1 className={isPreview ? \"sheet__title-preview\" : \"sheet__title\"}>\n        {label}\n      </h1>\n      {datoCmsGame.stadium && <p>Стд. {datoCmsGame.stadium}</p>}\n      <p>{new Date(datoCmsGame.date).toLocaleString()}</p>\n      <br />\n      {datoCmsGame.gallery && (\n        <div className=\"sheet__inner\">\n          <div className=\"sheet__slider\">\n            <Slider {...settings}>\n              {datoCmsGame.gallery.map(({ fluid }) => (\n                <img alt={datoCmsGame.title} key={fluid.src} src={fluid.src} />\n              ))}\n            </Slider>\n          </div>\n        </div>\n      )}\n      <div\n        className=\"sheet__body\"\n        dangerouslySetInnerHTML={{\n          __html: datoCmsGame.descriptionNode.childMarkdownRemark.html,\n        }}\n      />\n      <div className=\"sheet__inner\">\n        {datoCmsGame.image && (\n          <div className=\"sheet__gallery\">\n            <Img fluid={datoCmsGame.image.fluid} />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport const query = graphql`\n  query GamePageQuery($slug: String!) {\n    datoCmsGame(slug: { eq: $slug }) {\n      date\n      teamHome\n      guestTeam\n      stadium\n      pointHome\n      pointGuest\n      id\n      slug\n      descriptionNode {\n        childMarkdownRemark {\n          html\n        }\n      }\n      image {\n        url\n        fluid(maxWidth: 600, imgixParams: { fm: \"jpg\", auto: \"compress\" }) {\n          ...GatsbyDatoCmsSizes\n        }\n      }\n      gallery {\n        fluid(maxWidth: 200, imgixParams: { fm: \"jpg\", auto: \"compress\" }) {\n          src\n        }\n      }\n    }\n  }\n`;\n","import React from \"react\";\nimport Slider from \"react-slick\";\nimport { HelmetDatoCms } from \"gatsby-source-datocms\";\nimport Img from \"gatsby-image\";\nimport { graphql, Link } from \"gatsby\";\nimport Layout from \"../components/layout\";\nimport { Game } from \"../templates/game\";\n\nexport default ({ data }) => (\n  <Layout>\n    {console.log(data)}\n    <article className=\"sheet\">\n      <HelmetDatoCms seo={data.datoCmsWork.seoMetaTags} />\n      <div className=\"sheet__inner\">\n        <h1 className=\"sheet__title\">{data.datoCmsWork.title}</h1>\n        <p className=\"sheet__lead\">{data.datoCmsWork.excerpt}</p>\n        {data.datoCmsWork.previewGame && (\n          <>\n            <p>\n              Игра команд {data.datoCmsWork.previewGame.teamHome} и{\" \"}\n              {data.datoCmsWork.previewGame.guestTeam} состоится на стадионе{\" \"}\n              {data.datoCmsWork.previewGame.stadium}{\" \"}\n              {new Date(data.datoCmsWork.previewGame.date).toLocaleString()}\n            </p>\n            <br />\n            <Link to={`/games/${data.datoCmsWork.previewGame.slug}`}>\n              Перейти на страницу игры\n            </Link>\n          </>\n        )}\n\n        <div className=\"sheet__slider\">\n          <Slider infinite={true} slidesToShow={2} arrows>\n            {data.datoCmsWork.gallery.map(({ fluid }) => (\n              <img\n                alt={data.datoCmsWork.title}\n                key={fluid.src}\n                src={fluid.src}\n              />\n            ))}\n          </Slider>\n        </div>\n        {data.datoCmsWork.descriptionNode && (\n          <div\n            className=\"sheet__body\"\n            dangerouslySetInnerHTML={{\n              __html: data.datoCmsWork.descriptionNode.childMarkdownRemark.html,\n            }}\n          />\n        )}\n        {!data.datoCmsWork.game && (\n          <div className=\"sheet__gallery\">\n            <Img fluid={data.datoCmsWork.coverImage.fluid} />\n          </div>\n        )}\n      </div>\n      {data.datoCmsWork.game && !data.datoCmsWork.previewGame && (\n        <Game datoCmsGame={data.datoCmsWork.game} isPreview />\n      )}\n    </article>\n  </Layout>\n);\n\nexport const query = graphql`\n  query WorkQuery($slug: String!) {\n    datoCmsWork(slug: { eq: $slug }) {\n      seoMetaTags {\n        ...GatsbyDatoCmsSeoMetaTags\n      }\n      title\n      excerpt\n      gallery {\n        fluid(maxWidth: 200, imgixParams: { fm: \"jpg\", auto: \"compress\" }) {\n          src\n        }\n      }\n      descriptionNode {\n        childMarkdownRemark {\n          html\n        }\n      }\n      game {\n        date\n        teamHome\n        guestTeam\n        stadium\n        pointHome\n        pointGuest\n        id\n        slug\n        descriptionNode {\n          childMarkdownRemark {\n            html\n          }\n        }\n        image {\n          url\n          fluid(maxWidth: 600, imgixParams: { fm: \"jpg\", auto: \"compress\" }) {\n            ...GatsbyDatoCmsSizes\n          }\n        }\n        gallery {\n          fluid(maxWidth: 200, imgixParams: { fm: \"jpg\", auto: \"compress\" }) {\n            src\n          }\n        }\n      }\n      previewGame {\n        date\n        stadium\n        teamHome\n        guestTeam\n        slug\n      }\n      coverImage {\n        url\n        fluid(maxWidth: 600, imgixParams: { fm: \"jpg\", auto: \"compress\" }) {\n          ...GatsbyDatoCmsSizes\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}