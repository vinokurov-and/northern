{"version":3,"sources":["webpack:///./src/templates/game.js"],"names":["settings","infinite","speed","slidesToShow","slidesToScroll","data","React","Layout","className","HelmetDatoCms","seo","datoCmsGame","seoMetaTags","Game","isPreview","point","pointHome","pointGuest","label","teamHome","guestTeam","winner","stadium","Date","date","toLocaleString","gallery","Slider","map","fluid","alt","title","key","src","dangerouslySetInnerHTML","__html","descriptionNode","childMarkdownRemark","html","image","Img"],"mappings":"8FAAA,uIAOMA,EAAW,CACfC,UAAU,EACVC,MAAO,IACPC,aAAc,EACdC,eAAgB,GAGH,0BAAGC,EAAH,EAAGA,KAAH,OACbC,kBAACC,IAAD,KACED,6BAASE,UAAU,SACjBF,kBAACG,gBAAD,CAAeC,IAAKL,EAAKM,YAAYC,cACrCN,kBAACO,EAAD,CAAMF,YAAaN,EAAKM,iBAKvB,IAAME,EAAO,SAAC,GAAgC,IAA9BF,EAA6B,EAA7BA,YAAaG,EAAgB,EAAhBA,UAC5BC,EAAWJ,EAAYK,UAAlB,IAA+BL,EAAYM,WAElDC,EAAWP,EAAYQ,SAAlB,KAA8BR,EAAYK,WACjD,KADO,KACAL,EAAYM,YAAc,KADpBN,QAEbA,EAAYS,UAEd,GAAIT,EAAYK,WAAaL,EAAYM,WAAY,CACnD,IAAII,EACFV,EAAYK,UAAYL,EAAYM,WAChCN,EAAYQ,SACZR,EAAYS,UAEdN,IAEAI,EADEP,EAAYK,YAAcL,EAAYM,WACnC,8BAAiCF,EAC9B,qBAAwBA,EAAxB,qBAAkDM,GAIhE,OACEf,oCACEA,wBAAIE,UAAWM,EAAY,uBAAyB,gBACjDI,GAEFP,EAAYW,SAAWhB,mCAASK,EAAYW,SAC7ChB,2BAAI,IAAIiB,KAAKZ,EAAYa,MAAMC,kBAC/BnB,6BACCK,EAAYe,SACXpB,yBAAKE,UAAU,gBACbF,yBAAKE,UAAU,iBACbF,kBAACqB,IAAW3B,EACTW,EAAYe,QAAQE,KAAI,gBAAGC,EAAH,EAAGA,MAAH,OACvBvB,yBAAKwB,IAAKnB,EAAYoB,MAAOC,IAAKH,EAAMI,IAAKA,IAAKJ,EAAMI,YAMlE3B,yBACEE,UAAU,cACV0B,wBAAyB,CACvBC,OAAQxB,EAAYyB,gBAAgBC,oBAAoBC,QAG5DhC,yBAAKE,UAAU,gBACZG,EAAY4B,OACXjC,yBAAKE,UAAU,kBACbF,kBAACkC,IAAD,CAAKX,MAAOlB,EAAY4B,MAAMV","file":"component---src-templates-game-js-4e46d93660b7ce291fee.js","sourcesContent":["import React from \"react\";\nimport Slider from \"react-slick\";\nimport { HelmetDatoCms } from \"gatsby-source-datocms\";\nimport Img from \"gatsby-image\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/layout\";\n\nconst settings = {\n  infinite: true,\n  speed: 500,\n  slidesToShow: 2,\n  slidesToScroll: 2,\n};\n\nexport default ({ data }) => (\n  <Layout>\n    <article className=\"sheet\">\n      <HelmetDatoCms seo={data.datoCmsGame.seoMetaTags} />\n      <Game datoCmsGame={data.datoCmsGame} />\n    </article>\n  </Layout>\n);\n\nexport const Game = ({ datoCmsGame, isPreview }) => {\n  const point = `${datoCmsGame.pointHome}:${datoCmsGame.pointGuest}`;\n\n  let label = `${datoCmsGame.teamHome} ${datoCmsGame.pointHome ||\n    \"-\"}:${datoCmsGame.pointGuest || \"-\"}${\" \"}\n  ${datoCmsGame.guestTeam}`;\n\n  if (datoCmsGame.pointHome && datoCmsGame.pointGuest) {\n    let winner =\n      datoCmsGame.pointHome > datoCmsGame.pointGuest\n        ? datoCmsGame.teamHome\n        : datoCmsGame.guestTeam;\n\n    if (isPreview) {\n      if (datoCmsGame.pointHome === datoCmsGame.pointGuest)\n        label = `Игра закончилась со счётом ${point}`;\n      else label = `Результат встречи ${point} в пользу команды ${winner}`;\n    }\n  }\n\n  return (\n    <>\n      <h1 className={isPreview ? \"sheet__title-preview\" : \"sheet__title\"}>\n        {label}\n      </h1>\n      {datoCmsGame.stadium && <p>Стд. {datoCmsGame.stadium}</p>}\n      <p>{new Date(datoCmsGame.date).toLocaleString()}</p>\n      <br />\n      {datoCmsGame.gallery && (\n        <div className=\"sheet__inner\">\n          <div className=\"sheet__slider\">\n            <Slider {...settings}>\n              {datoCmsGame.gallery.map(({ fluid }) => (\n                <img alt={datoCmsGame.title} key={fluid.src} src={fluid.src} />\n              ))}\n            </Slider>\n          </div>\n        </div>\n      )}\n      <div\n        className=\"sheet__body\"\n        dangerouslySetInnerHTML={{\n          __html: datoCmsGame.descriptionNode.childMarkdownRemark.html,\n        }}\n      />\n      <div className=\"sheet__inner\">\n        {datoCmsGame.image && (\n          <div className=\"sheet__gallery\">\n            <Img fluid={datoCmsGame.image.fluid} />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport const query = graphql`\n  query GamePageQuery($slug: String!) {\n    datoCmsGame(slug: { eq: $slug }) {\n      date\n      teamHome\n      guestTeam\n      stadium\n      pointHome\n      pointGuest\n      id\n      slug\n      descriptionNode {\n        childMarkdownRemark {\n          html\n        }\n      }\n      image {\n        url\n        fluid(maxWidth: 600, imgixParams: { fm: \"jpg\", auto: \"compress\" }) {\n          ...GatsbyDatoCmsSizes\n        }\n      }\n      gallery {\n        fluid(maxWidth: 200, imgixParams: { fm: \"jpg\", auto: \"compress\" }) {\n          src\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}